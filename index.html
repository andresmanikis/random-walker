<html>
  <head>
    <title>Random Walker</title>
    <meta charset="utf-8">
    <style>
      canvas {
        border: 1px solid;
      }
    </style>
  </head>

  <body>
    <h1>Random Walker</h1>
    <canvas></canvas>

    <script>
      "use strict";

      var renderer = {
        _STEP_SIZE: 25,
        init: function() {
          this._canvas = document.getElementsByTagName("canvas")[0];
          this._ctx = this._canvas.getContext("2d");
          this._ctx.strokeStyle = "blue";
          this._ctx.lineWidth = 2;
          this._currentX = this._currentY = null;
        },
        startPath: function() {
          this._currentX = Math.floor(this._canvas.width / 2);
          this._currentY = Math.floor(this._canvas.height / 2);


          this._ctx.beginPath();
          this._ctx.moveTo(this._currentX, this._currentY);
        },
        _getStepLength: function(dx, dy) {
          return Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));
        },
        drawStep: function(step) {
          var dx = step.x;
          var dy = step.y;

          dx = dx / this._getStepLength(dx, dy);
          dy = dy / this._getStepLength(dx, dy);
          dx *= this._STEP_SIZE;
          dy *= this._STEP_SIZE;

          this._currentX += dx;
          this._currentY += dy;

          this._ctx.lineTo(this._currentX, this._currentY);
          this._ctx.stroke();
        }
      };

      var walker = {
        _generateRandomWholeNumberBetweenMinusOneAndOne: function() {
          return Math.floor(Math.random() * 3 - 1);
        },
        getStep: function() {
          return {
            x: this._generateRandomWholeNumberBetweenMinusOneAndOne(),
            y: this._generateRandomWholeNumberBetweenMinusOneAndOne()
          };
        }
      };

      renderer.init();
      renderer.startPath();

      renderer.drawStep(walker.getStep());
      renderer.drawStep(walker.getStep());
    </script>
  </body>
</html>